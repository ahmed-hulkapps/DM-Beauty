{{ 'global-header.css' | asset_url | stylesheet_tag }}
{{ 'mobile-nav-drawer.css' | asset_url | stylesheet_tag }}
{% assign logo_svg = section.settings.logo_svg %}
<{% if section.settings.enable_sticky_header %}sticky-header{% else %}div{% endif %}>
<header class="site-header">
{% if section.settings.topbar_enabled %}
  <div class="topbar d-flex align-items-center" data-top-bar style="background-color: {{ section.settings.topbar_bg_color }}; min-height: {{ section.settings.topbar_height }}px;">
    <div class="container">
        <div class="d-block text-center ls-1 py-1" style="color: {{ section.settings.topbar_text_color }};font-size: {{ section.settings.topbar_font_size }}">
          {{ section.settings.topbar_text }}
        </div>
    </div>
  </div>
{% endif %}
  {% comment %} header deaktop {% endcomment %}
  <div class="header-desktop d-none d-xl-block fixed-top">
    {%- comment -%}Desktop Menu{%- endcomment -%}
    {%- if section.settings.menu != blank -%}
      <nav class="navbar navbar-main navbar-expand-lg navbar-expand-xl col-lg-10 mx-auto font-family-heading fw-normal p-0 " aria-label="Main Navigation">
        <div class="{% if section.settings.fluid_header %}container-fluid{% else %}container{% endif %} p-4 px-5 {% if section.settings.show_line_separator %}border-bottom{% endif %} inner-nav position-relative rounded-bottom-5" style="background-color: {{ section.settings.header_bg_color }};">
          <!-- Dektop Header Logo -->
            <div class="header__heading mb-0 z-index-9 transition-25-in-out">
              <a href="{{ routes.root_url }}" class="navbar-brand d-none d-lg-block" name="{{ shop.name | escape }}" title="{{ shop.name | escape }}" aria-label="{{ shop.name | escape }}">
                {%- if logo_svg != blank -%}
                  <img src="{{ logo_svg }}" alt="{{ shop.name | escape }}" class="img-fluid" height="150" width="150" style="width: {{ section.settings.logo_width }}px">
                {%- elsif section.settings.logo != blank -%}
                  <img src="{{ section.settings.logo | img_url: '250x', scale: 2 }}"
                    class="img-fluid"
                    width="{{ section.settings.logo.width }}"
                    height="{{ section.settings.logo.height }}"
                    alt="{{ section.settings.logo.alt | default: shop.name | escape }}" 
                    style="max-width: {{ section.settings.logo_width }}px" >
                {%- else -%}
                  <span class="h5 text-primary">{{ shop.name }}</span>
                {%- endif -%}
              </a>
            </div>
          {%- if request.page_type == 'index' -%}
            <h1 class="d-none">{{ shop.name }}</h1>
          {%- endif -%}
          <div class="collapse navbar-collapse">
            {% render 'desktop-navbar' %}
          </div>
        </div>
      </nav>
    {%- endif -%}
  </div>
  {% comment %} header mobile {% endcomment %}
  <div class="header-mobile d-xl-none fixed-top bg-white py-2">
    <div class="mobile-nav h-100 fixed-top bg-secondary">
        <nav class="navbar navbar-mobile navbar-expand-lg  d-block font-family-heading fw-normal d-block p-0">
            <ul class="navbar-nav navbar-nav-scroll font-size-lg fw-semibold">
              {% for link in linklists[section.settings.menu].links %}
                {% assign child_list_handle = link.title | handleize %}
                    <li class="nav-item {% if menus[child_list_handle].links != blank %}dropdown{% endif %} justify-content-between border-bottom border-secondary-300" >
                        <a href="{{ link.url }}" class="nav-link dropdown-toggle text-capitalize text-white" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            {{ link.title }} 
                        </a>
                        {% if menus[child_list_handle].links != blank %}
                          <span class="icon-plus-solid position-absolute text-white first-menu"></span>
                          <span class="icon-minus-solid text-white first-menu position-absolute"></span>
                            <ul class="dropdown-menu fw-normal list-inline bg-secondary-200 my-4 py-3" data-type="content">
                                {% for childlink in menus[child_list_handle].links %}
                                    {% assign subchild_list_handle = childlink.title | handleize %}
                                    <li class="dropdown-item dropdown-child"{% if childlink.active %}{% endif %}>
                                        <a href="{{ childlink.url }}"  class="nav-link text-white" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            {{ childlink.title }}
                                        </a>
                                        {% if menus[subchild_list_handle].links != blank %}
                                          <span class="icon-plus-solid position-absolute text-white second-menu"></span>
                                          <span class="icon-minus-solid text-white second-menu position-absolute"></span>
                                          <ul class="dropdown-menu-child  m-0 fw-light list-inline bg-secondary-200 pt-2" data-type="content">
                                              {% for subchildlink in menus[subchild_list_handle].links %}
                                                  <li>
                                                      <a class="dropdown-item text-white list-inline-item" href="{{ subchildlink.url }}">
                                                          {{ subchildlink.title }}
                                                      </a>
                                                  </li>
                                              {% endfor %}
                                          </ul>
                                        {% endif %}
                                    </li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </li>
            {% endfor %}
            </ul>
        </nav>
    </div>
    <div class="mobile-content d-flex justify-content-center align-items-center">
      <div class="col-2 col-sm-2 mobile-toggle-outer position-relative">
        <div class="nav-trigger translate-middle-y position-absolute p-3 d-block">
          <span class="bg-secondary d-block rounded-pill my-1"></span>
          <span class="bg-secondary d-block rounded-pill my-1"></span>
          <span class="bg-secondary d-block rounded-pill my-1"></span>
        </div>
      </div>
      <div class="col-8 col-sm-8">
          <div class="header__heading mb-0 text-center">
              <a href="{{ routes.root_url }}" class="navbar-brand transition-25-in-out nav-item z-index-9" name="{{ shop.name | escape }}" title="{{ shop.name | escape }}" aria-label="{{ shop.name | escape }}">
                  {%- if logo_svg != blank -%}
                      <img src="{{ logo_svg }}" alt="{{ shop.name | escape }}" class="img-fluid" style="width: {{ section.settings.logo_width }}px"
                      width="{{ section.settings.logo_width }}"
                      height="40"
                  >
                  {%- elsif section.settings.logo != blank -%}
                    <img src="{{ section.settings.logo | img_url: '250x', scale: 2 }}"
                      class="img-fluid"
                      width="{{ section.settings.logo.width }}"
                      height="{{ section.settings.logo.height }}"
                      alt="{{ section.settings.logo.alt | default: shop.name | escape }}" 
                      style="max-width: {{ section.settings.logo_width }}px">
                  {%- else -%}
                      <span class="h5 text-primary">{{ shop.name }}</span>
                  {%- endif -%}
              </a>
          </div>
      </div>
      <div class="col-2 col-sm-2 search-bn-outer">
        <ul class="navbar-nav navbar-icon-links align-items-center ms-auto">
          {%- if settings.enable_search -%}
            <li class="nav-item button-search rounded-circle p-lg-3  bg-secondary border-0 d-flex justify-content-center align-items-center position-absolute">
              <span class="icon-search-solid text-white icon-size-18"></span>
              <span class="icon-xmark-solid text-white icon-size-18"></span>
            </li>
          {%- endif -%}
          {% if shop.customer_accounts_enabled %}
            <li class="nav-item">
            <a class="nav-link" href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" name="account" title="account" rel="nofollow" aria-label="Account">
                <i class="icon-user"></i>
            </a>
            </li>
         {% endif %}
        </ul>
      </div>
    </div>
    <div class="mobile-search col-4 w-100 position-absolute top-0 end-0">
      <form action="/search" method="get" role="search" class="form-search position-absolute w-100">
        {%- capture searchType -%}{%- if settings.enable_search_product -%}product,{%- endif -%}{%-if settings.enable_search_article -%}article,{%- endif -%}{%-if settings.enable_search_page -%}page{%- endif -%}{%- endcapture -%}
        <div class="input-group">
            <input type="hidden" name="type" value="{{ searchType }}">
            <input type="search" name="q" id="Search" aria-label="search" value="{{ search.terms | escape }}" placeholder="Waar ben je naar op zoek?" class="form-control px-0 text-center border-0 py-4">
        </div>
      </form>
    </div>
  </div>
</header> 
</{% if section.settings.enable_sticky_header %}sticky-header{% else %}div{% endif %}>
{%- if section.settings.enable_sticky_header -%}
  <script src="{{ 'component-sticky-header.js' | asset_url }}" defer></script>
{%- endif -%}
{%if  template == 'index' or page.handle == 'contact' %}
{% comment %} Organization {% endcomment %}
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "name": {{ shop.name | json }},
    {% if section.settings.logo %}
      {% assign image_size = section.settings.logo.width | append: 'x' %}
      "logo": {{ section.settings.logo | img_url: image_size | prepend: "https:" | json }},
    {% endif %}
    "sameAs": [
      {{ settings.social_twitter_link | json }},
      {{ settings.social_facebook_link | json }},
      {{ settings.social_pinterest_link | json }},
      {{ settings.social_instagram_link | json }},
      {{ settings.social_tumblr_link | json }},
      {{ settings.social_snapchat_link | json }},
      {{ settings.social_youtube_link | json }},
      {{ settings.social_vimeo_link | json }}
    ],
    "url": {{ shop.url | append: page.url | json }}
  }
</script>
{% endif %}
{% schema %}
{
  "name": "t:sections.header.name",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.header.settings.header_topbar.label"
    },
    {
      "type": "checkbox",
      "id": "topbar_enabled",
      "label": "t:sections.header.settings.header_topbar_enabled.label",
      "default": false
    },
    {
      "type": "html",
      "id": "topbar_text",
      "label": "t:sections.header.settings.header_topbar_text.label"
    },
    {
      "type": "color",
      "id": "topbar_bg_color",
      "label": "t:sections.header.settings.header_topbar_bg_color.label",
      "default": "#D29C7D"
    },
    {
      "type": "color",
      "id": "topbar_text_color",
      "label": "t:sections.header.settings.header_topbar_text_color.label",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "topbar_height",
      "label": "t:sections.header.settings.header_topbar_height.label",
      "min": 20,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 40
    },
    {
      "type": "text",
      "id": "topbar_font_size",
      "label": "t:sections.header.settings.header_topbar_font_size.label",
      "default": "13px"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.header_layout.label"
    },
    {
      "type": "checkbox",
      "id": "fluid_header",
      "label": "t:sections.header.settings.full_width.label",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_header",
      "default": true,
      "label": "t:sections.header.settings.enable_sticky_header.label",
      "info": "t:sections.header.settings.enable_sticky_header.info"
    },
    {
      "type": "color",
      "id": "header_bg_color",
      "label": "t:sections.header.settings.header_bg_color.label",
      "default": "#ffffff"
    },
    {
      "type": "checkbox",
      "id": "show_line_separator",
      "default": false,
      "label": "t:sections.header.settings.show_line_separator.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.header_logo.label"
    },
    {
      "type": "textarea",
      "id": "logo_svg",
      "label": "t:sections.header.settings.logo_svg.label",
      "info": "t:sections.header.settings.logo_svg.info"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "t:sections.header.settings.logo.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.header_stlying.label"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 250,
      "step": 10,
      "default": 100,
      "unit": "t:sections.header.settings.logo_width.unit",
      "label": "t:sections.header.settings.logo_width.label"
    },
    {
      "type": "select",
      "id": "logo_position",
      "options": [
        {
          "value": "middle-left",
          "label": "t:sections.header.settings.logo_position.options__1.label"
        }
      ],
      "default": "middle-left",
      "label": "t:sections.header.settings.logo_position.label"
    },
    {
      "type": "header",
      "content": "t:sections.header.settings.header_menu.label"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "t:sections.header.settings.menu.label"
    }
  ]
}
{% endschema %}